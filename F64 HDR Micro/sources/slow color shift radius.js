/*
  Slow color shift
*/

l4 = pixelCount * 4     // 4 times the strip length

export function beforeRender(delta) {
  t1 = time(.15) * PI2
  t2 = time(.1)
}

radii = [ 1.58, 7.88, 10.99, 13.39, 15.41, 16.07, 14.15, 11.92, 9.16, 5.02, 6.87, 10.27, 12.79, 14.88, 16.72, 15.60, 13.60, 11.27, 8.31, 3.32, 5.74, 9.53, 12.20, 14.39, 16.30, 15.17, 13.10, 10.63, 7.42, 4.42, 8.81, 11.67, 13.97, 15.94, 16.69, 14.81, 12.65, 10.04, 6.49, 2.58, 8.09, 11.16, 13.56, 15.60, 16.34, 14.41, 12.18, 9.43, 5.45, 7.28, 10.60, 13.11, 15.19, 17.03, 15.91, 13.94, 11.64, 8.73, 4.06, 6.29, 9.94, 12.56, 14.71, 16.57 ];

export function render(index) {
  index = radii[index]
  
  h = (t2 + 1 + sin(index / 2 + 5 * sin(t1)) / 5) + index / l4

  v = wave((index / 2 + 5 * sin(t1)) / PI2)
  v = v * v * v * v

  hsv(h, 1, v)
}
