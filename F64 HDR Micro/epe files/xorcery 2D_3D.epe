{
  "name": "xorcery 2D/3D",
  "id": "ro9Gei457fBoxop9Y",
  "sources": {
    "main": "/*\n  Xorcery 2D/3D\n\n  An XOR in 2D/3D space based on the 'block reflections' pattern. To think\n  through the math, start with the comments on that pattern. The `^` operator is\n  bitwise exclusive-or (XOR). Combined with modulus (`%`) and `triangle()`, this\n  pattern renders interesting kaleidoscopic blocks in 1D/2D/3D.\n  \n  Output demo: https://youtu.be/7PQGV59N5hM\n*/\n\nexport function beforeRender(delta) {\n  t1 = time(.1)\n  t2 = time(.1) * PI2\n  t3 = time(.5)\n  t4 = time(.2) * PI2\n}\n\nexport function render3D(index, x, y, z) {\n  m = .3 + triangle(t1) * .2\n  h = sin(t2)\n  h += (wave((5 * (x - .5) ^ 5 * (y - .5) ^ 5 * (z - .5)) / 50 * \n    (triangle(t3) * 10 + 4 * sin(t4)) % m))\n  v = (abs(h) + abs(m) + t1) % 1\n  v = triangle(v * v)\n  h = triangle(h) / 5 + (x + y + z) / 3 + t1\n  v = v * v * v\n\n  hsv(h, 1, v)\n}\n\nexport function render2D(index, x, y) {\n  render3D(index, x, y, 0)\n}\n\n// Repeat the top line of the matrix 4X for a more granular 1D\nexport function render(index) {\n  pct = index / pixelCount\n  render3D(index, 4 * pct, 0, 0)\n}\n"
  },
  "preview": "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"
}